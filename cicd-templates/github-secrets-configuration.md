# GitHub Repository Secrets Configuration

## Required Secrets

Add these secrets to your GitHub repository:
**Path:** `Settings → Secrets and variables → Actions → Repository secrets`

### Harbor (Container Registry)
| Secret Name | Value | Description |
|-------------|-------|-------------|
| `HARBOR_REGISTRY` | `10.100.10.215:8080` | Harbor registry URL |
| `HARBOR_USERNAME` | `admin` | Harbor username |
| `HARBOR_PASSWORD` | `Harbor12345!` | Harbor password |
| `HARBOR_PROJECT` | `library` | Harbor project name |

### JFrog Artifactory (Package Registry)
| Secret Name | Value | Description |
|-------------|-------|-------------|
| `ARTIFACTORY_URL` | `http://10.100.10.215:8081` | Artifactory instance URL |
| `ARTIFACTORY_USERNAME` | `admin` | Artifactory username |
| `ARTIFACTORY_PASSWORD` | `Admin123!` | Artifactory password |

### Repository Configuration (Technology-Specific)
| Secret Name | Value | Technology | Description |
|-------------|-------|------------|-------------|
| `ARTIFACTORY_NUGET_REPO` | `nuget-local` | .NET | NuGet package repository |
| `ARTIFACTORY_PYPI_REPO` | `pypi-local` | Python | PyPI package repository |
| `ARTIFACTORY_NPM_REPO` | `npm-local` | Node.js | npm package repository |
| `ARTIFACTORY_GO_REPO` | `go-local` | Go | Go modules repository |
| `ARTIFACTORY_CARGO_REPO` | `cargo-local` | Rust | Cargo package repository |
| `ARTIFACTORY_GENERIC_REPO` | `generic-local` | Generic | Generic artifacts repository |

## Quick Setup Commands

### Option 1: Manual Setup (GitHub Web UI)
1. Go to your repository on GitHub
2. Navigate to: `Settings → Secrets and variables → Actions`
3. Click `New repository secret`
4. Add each secret from the table above

### Option 2: GitHub CLI (Automated)
```bash
# Set Harbor secrets
gh secret set HARBOR_REGISTRY --body "10.100.10.215:8080"
gh secret set HARBOR_USERNAME --body "admin"
gh secret set HARBOR_PASSWORD --body "Harbor12345!"
gh secret set HARBOR_PROJECT --body "library"

# Set JFrog Artifactory secrets
gh secret set ARTIFACTORY_URL --body "http://10.100.10.215:8081"
gh secret set ARTIFACTORY_USERNAME --body "admin"
gh secret set ARTIFACTORY_PASSWORD --body "Admin123!"

# Set repository-specific secrets
gh secret set ARTIFACTORY_NUGET_REPO --body "nuget-local"
gh secret set ARTIFACTORY_PYPI_REPO --body "pypi-local"
gh secret set ARTIFACTORY_NPM_REPO --body "npm-local"
gh secret set ARTIFACTORY_GO_REPO --body "go-local"
gh secret set ARTIFACTORY_CARGO_REPO --body "cargo-local"
gh secret set ARTIFACTORY_GENERIC_REPO --body "generic-local"
```

### Option 3: Environment Variables (for testing)
```bash
export HARBOR_REGISTRY="10.100.10.215:8080"
export HARBOR_USERNAME="admin"
export HARBOR_PASSWORD="Harbor12345!"
export HARBOR_PROJECT="library"
export ARTIFACTORY_URL="http://10.100.10.215:8081"
export ARTIFACTORY_USERNAME="admin"
export ARTIFACTORY_PASSWORD="Admin123!"
export ARTIFACTORY_NUGET_REPO="nuget-local"
export ARTIFACTORY_PYPI_REPO="pypi-local"
export ARTIFACTORY_NPM_REPO="npm-local"
export ARTIFACTORY_GO_REPO="go-local"
export ARTIFACTORY_CARGO_REPO="cargo-local"
export ARTIFACTORY_GENERIC_REPO="generic-local"
```

## Security Notes

1. **Harbor Password**: Consider using Robot Accounts for better security
2. **Artifactory Access**: Use Access Tokens instead of passwords when possible
3. **Repository Access**: Ensure secrets have minimal required permissions
4. **Secret Rotation**: Regularly rotate passwords and tokens

##  Testing Your Configuration

After setting up secrets, test with a simple workflow:

```yaml
name: Test Secrets
on: workflow_dispatch

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Test Harbor Connection
        run: |
          echo "Harbor Registry: ${{ secrets.HARBOR_REGISTRY }}"
          echo "Harbor Project: ${{ secrets.HARBOR_PROJECT }}"
          
      - name: Test Artifactory Connection
        run: |
          echo "Artifactory URL: ${{ secrets.ARTIFACTORY_URL }}"
          echo "Artifactory User: ${{ secrets.ARTIFACTORY_USERNAME }}"
```

## Troubleshooting

### Common Issues:
1. **Invalid Harbor URL**: Ensure port 8080 is accessible
2. **Artifactory Authentication**: Verify username/password combination
3. **Repository Not Found**: Ensure repositories exist in Artifactory
4. **Network Access**: Check firewall rules for CI/CD runners

### Verification Commands:
```bash
# Test Harbor connectivity
docker login 10.100.10.215:8080 -u admin

# Test Artifactory connectivity
curl -u admin:Admin123! http://10.100.10.215:8081/artifactory/api/system/ping

# List Artifactory repositories
curl -u admin:Admin123! http://10.100.10.215:8081/artifactory/api/repositories
```

---
Generated by: Universal CI/CD Templates Configuration Script
Date: Sat 01 Nov 2025 09:54:17 PM SAST
