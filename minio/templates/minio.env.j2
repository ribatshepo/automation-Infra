# MinIO Environment Configuration
# Generated by Ansible - Do not edit manually

# MinIO Root Credentials
MINIO_ROOT_USER={{ minio_root_user }}
MINIO_ROOT_PASSWORD={{ minio_root_password }}

# MinIO Server Configuration
MINIO_ADDRESS={{ minio_bind_address }}:{{ minio_port }}
MINIO_CONSOLE_ADDRESS={{ minio_console_bind_address }}:{{ minio_console_port }}

# MinIO Data Directory
MINIO_VOLUMES={{ minio_storage_path }}

# MinIO Region and Site
MINIO_REGION={{ minio_region }}
MINIO_SITE_NAME={{ minio_site_name }}
MINIO_SITE_REGION={{ minio_site_region }}

# MinIO Browser
MINIO_BROWSER={{ 'on' if minio_browser_enabled else 'off' }}
{% if minio_browser_redirect_url %}
MINIO_BROWSER_REDIRECT_URL={{ minio_browser_redirect_url }}
{% endif %}

# MinIO Logging
MINIO_LOG_LEVEL={{ minio_log_level }}

# MinIO Performance
MINIO_API_REQUESTS_MAX={{ minio_api_requests_max }}
MINIO_API_REQUESTS_DEADLINE={{ minio_api_requests_deadline }}

# MinIO Storage Class (commented out for single-node deployment)
# MINIO_STORAGE_CLASS_STANDARD={{ minio_storage_class }}

# MinIO Cache (if configured)
{% if minio_cache_drives %}
MINIO_CACHE_DRIVES={{ minio_cache_drives | join(',') }}
MINIO_CACHE_EXPIRY={{ minio_cache_expiry }}
MINIO_CACHE_QUOTA={{ minio_cache_quota }}
{% endif %}

# MinIO Console JWT Secret
{% if minio_console_jwt_secret is defined %}
MINIO_CONSOLE_PBKDF_PASSPHRASE={{ minio_console_jwt_secret }}
{% endif %}

# MinIO Additional Environment Variables
{% for key, value in minio_environment_vars.items() %}
{{ key }}={{ value }}
{% endfor %}

# MinIO TLS Configuration
{% if minio_tls_enabled %}
MINIO_SERVER_URL={{ minio_scheme }}://{{ ansible_default_ipv4.address }}:{{ minio_port }}
{% endif %}

# MinIO Health Check
{% if minio_health_check_enabled %}
MINIO_HEAL_TIMEOUT={{ minio_health_check_interval }}
{% endif %}